import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { html, render } from 'lit-html'
import { withActions } from '@storybook/addon-actions/decorator';

<Meta
    title="Components/Segmented Button"
    component="rux-segmented-button"
    argTypes={extractArgTypes('rux-segmented-button')}
    parameters={{
        actions: {
            handles: ['ruxchange rux-segmented-button'],
        },
    }}
    decorators={[withActions]}
/>

# Segmented Button

Segmented Buttons allow users to select one item at a time from two to four options. Selecting one option automatically turns off the last selection made. Segmented Buttons are mutually exclusive.

## Guidelines

-   [Astro UXDS: Segmented Button](https://astrouxds.com/ui-components/segmented-button)

export const Default = (args) => {
    const segmentButtonArray = [
        { label: 'First item' },
        { label: 'Second item' },
        { label: 'Third item' },
    ]
    document.addEventListener('change', (e) => action('change')(e.target))
    return html`
<div style="padding: 10vh 5vw; display: flex; justify-content: center;">
    <rux-segmented-button
        .data="${args.data}"
        .selected="${args.selected}"
        .size="${args.size}"
    ></rux-segmented-button>
</div>
    `
}

<Canvas>
    <Story
        args={{
            data: [
                { label: 'First item' },
                { label: 'Second item', selected: true },
                { label: 'Third item' },
            ],
            selected: 'Second item',
            size: 'small'
        }}
        name="Default"
    >
        {Default.bind()}
    </Story>
</Canvas>

## API

<ArgsTable of="rux-segmented-button" />

## Variants

### Disabled

export const Disabled = (args) => {
    const segmentButtonArray = [
        { label: 'First item' },
        { label: 'Second item' },
        { label: 'Third item' },
    ]
    document.addEventListener('change', (e) => action('change')(e.target))
    return html`
<div style="padding: 10vh 5vw; display: flex; justify-content: center;">
    <rux-segmented-button
        .data="${args.data}"
        .size="${args.size}"
        ?disabled="${args.disabled}"
    ></rux-segmented-button>
</div>
    `
}

<Canvas>
    <Story
        args={{
            data: [
                { label: 'First item' },
                { label: 'Second item', selected: true },
                { label: 'Third item' },
            ],
            selected: 'Second item',
            size: 'small',
            disabled: true
        }}
        name="Disabled"
    >
        {Disabled.bind()}
    </Story>
</Canvas>

### Medium

export const Medium = (args) => {
    const segmentButtonArray = [
        { label: 'First item' },
        { label: 'Second item' },
        { label: 'Third item' },
    ]
    document.addEventListener('change', (e) => action('change')(e.target))
    return html`
<div style="padding: 10vh 5vw; display: flex; justify-content: center;">
    <rux-segmented-button
        .data="${args.data}"
        .size="${args.size}"
    ></rux-segmented-button>
</div>
    `
}

<Canvas>
    <Story
        args={{
            data: [
                { label: 'First item' },
                { label: 'Second item', selected: true },
                { label: 'Third item' },
            ],
            selected: 'Second item',
            size: 'medium'
        }}
        name="Medium"
    >
        {Medium.bind()}
    </Story>
</Canvas>

### Large

export const Large = (args) => {
    const segmentButtonArray = [
        { label: 'First item' },
        { label: 'Second item' },
        { label: 'Third item' },
    ]
    document.addEventListener('change', (e) => action('change')(e.target))
    return html`
<div style="padding: 10vh 5vw; display: flex; justify-content: center;">
    <rux-segmented-button
        .data="${args.data}"
        .size="${args.size}"
    ></rux-segmented-button>
</div>
    `
}

<Canvas>
    <Story
        args={{
            data: [
                { label: 'First item' },
                { label: 'Second item', selected: true },
                { label: 'Third item' },
            ],
            selected: 'Second item',
            size: 'large'
        }}
        name="Large"
    >
        {Large.bind()}
    </Story>
</Canvas>

## Usage

Pass an array of segments via the `data` attribute on the Segmented Button custom element. Segment items in the `data` array must be objects with a `label` string. The first item in the array will be auto-selected unless another segment item has a `selected` property with a truthy value. Avoid labels with the same text, as this will interfere with selecting segments. 

### SegmentedButton Data Object

```json
[
  { label: "First segment" },
  { label: "Second segment", selected: true },
  { label: "Third segment" },
];
```

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import { RuxSegmentedButton } from '@astrouxds/astro-web-components/dist/components/rux-segmented-button.js'
customElements.define('rux-segmented-button', RuxSegmentedButton)
```
